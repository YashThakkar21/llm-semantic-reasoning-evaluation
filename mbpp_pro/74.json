{
  "id": 74,
  "raw_solution": "    s = sum(my_matrix[0])\n    # row\n    if any(sum(row) != s for row in my_matrix):\n        return False\n    # column\n    if any(sum(row[i] for row in my_matrix) != s for i in range(len(my_matrix[0]))):\n        return False\n    # diagonal\n    if sum(my_matrix[i][i] for i in range(len(my_matrix))) != s:\n        return False\n    # anti-diagonal\n    if sum(my_matrix[i][len(my_matrix) - i - 1] for i in range(len(my_matrix))) != s:\n        return False\n    return True\n",
  "test_code": "assert count_magic_squares([[[2, 7, 6], [9, 5, 1], [4, 3, 8]], [[1, 2, 3], [4, 5, 6], [7, 8, 9]], [[8, 1, 6], [3, 5, 7], [4, 9, 2]]]) == 2\nassert count_magic_squares([[[1, 1, 1], [1, 1, 1], [1, 1, 1]], [[2, 7, 6], [9, 5, 1], [4, 3, 8]]]) == 2\nassert count_magic_squares([[[1, 2], [2, 1]], [[1, 1], [1, 1]]]) == 1",
  "raw_problem": "# Write a function to calculate whether the matrix is a magic square.\ndef magic_square_test(my_matrix):\n",
  "new_solution": "    count = 0\n    for matrix in matrices:\n        if magic_square_test(matrix):\n            count += 1\n    return count\n",
  "new_problem": "# Given a list of matrices, write a function to determine the number of magic squares in the list.\ndef count_magic_squares(matrices):\n"
}