{
  "id": 53,
  "raw_solution": "    if all(digit == '9' for digit in str(num)):\n        return num + 2\n    else:\n        num = [int(digit) for digit in str(num)]\n        n = len(num)\n        mid = n // 2\n        left_smaller = False\n        # if n is odd, ignore the middle digit at first\n        i = mid - 1\n        j = mid + 1 if n % 2 else mid\n        while i >= 0 and num[i] == num[j]:\n            i -= 1\n            j += 1\n        # stop if traverse end or difference found\n        if i < 0 or num[i] < num[j]:\n            left_smaller = True\n        # copy left to right\n        while i >= 0:\n            num[j] = num[i]\n            j += 1\n            i -= 1\n        # the middle digit must be incremented\n        if left_smaller:\n            carry = 1\n            i = mid - 1\n            if n % 2:\n                num[mid] += carry\n                carry = num[mid] // 10\n                num[mid] %= 10\n                j = mid + 1\n            else:\n                j = mid\n            while i >= 0:\n                num[i] += carry\n                carry = num[i] // 10\n                num[i] %= 10\n                num[j] = num[i]\n                j += 1\n                i -= 1\n    return int(\"\".join(map(str, num)))\n",
  "test_code": "assert sum_of_next_smallest_palindromes([123, 121, 999]) == 131 + 131 + 1001\nassert sum_of_next_smallest_palindromes([191, 202, 303]) == 202 + 212 + 313\nassert sum_of_next_smallest_palindromes([]) == 0\nassert sum_of_next_smallest_palindromes([888, 999, 1001]) == 898 + 1001 + 1111",
  "raw_problem": "# Write a function to find the next smallest palindrome of a specified integer, returned as an integer.\ndef next_smallest_palindrome(num):\n",
  "new_solution": "    def next_smallest_palindrome(num):\n        if all(digit == '9' for digit in str(num)):\n            return num + 2\n        else:\n            num = [int(digit) for digit in str(num)]\n            n = len(num)\n            mid = n // 2\n            left_smaller = False\n            i = mid - 1\n            j = mid + 1 if n % 2 else mid\n            while i >= 0 and num[i] == num[j]:\n                i -= 1\n                j += 1\n            if i < 0 or num[i] < num[j]:\n                left_smaller = True\n            while i >= 0:\n                num[j] = num[i]\n                j += 1\n                i -= 1\n            if left_smaller:\n                carry = 1\n                i = mid - 1\n                if n % 2:\n                    num[mid] += carry\n                    carry = num[mid] // 10\n                    num[mid] %= 10\n                    j = mid + 1\n                else:\n                    j = mid\n                while i >= 0:\n                    num[i] += carry\n                    carry = num[i] // 10\n                    num[i] %= 10\n                    num[j] = num[i]\n                    j += 1\n                    i -= 1\n        return int(\"\".join(map(str, num)))\n    \n    if not nums:\n        return 0\n    return sum(next_smallest_palindrome(num) for num in nums)\n",
  "new_problem": "# Given a list of integers, find the next smallest palindrome for each integer in the list, and then return the sum of these palindromes. If the list is empty, return 0.\ndef sum_of_next_smallest_palindromes(nums):\n"
}